@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@theme inline {
  --color-headings-color: var(--card-bg);
}

/* 亮色模式 */
[data-theme='light'] {
  --body-bg-color: #f5f5fa;
  --accent-color: #ff5671;
  --accent-color-alt: #fff;
  --second-color: #ff5671;
  --second-color-alt: #fff;
  --button-bg: var(--accent-color);
  --button-bg-hover: #373c41;
  --body-color: #474c5d;
  --headings-color: #2f2e35;
  --shadow-soft: 0 4px 25px #25252e1f;
  --soft-radius: 12px;
  --btn-radius: 50px;
  --body-line-height: 1.8;
  --card-bg: #fff;

  /* 为过渡动画定义持续时间和缓动函数 (可选, 方便管理) */
  --transition-duration: 0.6s; /* 动画时长 */
  --transition-timing-function: cubic-bezier(
    0.55,
    0.055,
    0.675,
    0.19
  ); /* 缓动函数，例如 ease-in-quad */
}

/* 深色模式 */
[data-theme='dark'] {
  --accent-color: #ff5671;
  --accent-color-alt: #fff;
  --second-color: #ff5671;
  --second-color-alt: #fff;
  --button-bg: var(--accent-color);
  --button-bg-hover: #373c41;
  --soft-radius: 12px;
  --btn-radius: 50px;
  --body-line-height: 1.8;

  --body-color: #e3e7ed;
  --body-bg-color: #1f2328;
  --headings-color: #fff;
  --soft-white: #ffffff0f;
  --soft-black: #0000000f;
  --soft-black-2: #31384030;
  --shadow-soft: none;
  --card-bg: #272c31;

  /* 为过渡动画定义持续时间和缓动函数 (可选) */
  --transition-duration: 0.6s;
  --transition-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
}

/* body 的基础样式 */
body {
  background: var(--body-bg-color);
  color: var(--body-color);
  /* 如果 View Transitions API 不可用或 JS 被禁用，提供一个基础的 CSS 过渡效果 */
  transition:
    background-color 0.3s ease-out,
    color 0.3s ease-out;
}

/* --- 视图转换 API (View Transitions API) 动画 --- */

/* 定义圆形揭露动画的入场关键帧 */
@keyframes reveal-in {
  from {
    clip-path: circle(0% at 50% 50%);
  }
  to {
    clip-path: circle(150% at 50% 50%);
  }
}

/* 定义圆形揭露动画的出场关键帧 */
@keyframes reveal-out {
  from {
    clip-path: circle(150% at 50% 50%);
  }
  to {
    clip-path: circle(0% at 50% 50%);
  }
}

/* 视图转换基础样式 */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

/* 暗色模式下的视图转换 */
[data-theme='dark']::view-transition-old(root) {
  z-index: 1;
}

[data-theme='dark']::view-transition-new(root) {
  z-index: 999;
}

/* 亮色模式下的视图转换 */
::view-transition-old(root) {
  z-index: 999;
}

::view-transition-new(root) {
  z-index: 1;
}